{"version":3,"file":"js/620.16bdada2.js","mappings":"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","sources":["webpack://toutiao-m/./src/views/article/article.vue","webpack://toutiao-m/./src/components/follow-user.vue","webpack://toutiao-m/src/components/follow-user.vue","webpack://toutiao-m/./src/components/follow-user.vue?247f","webpack://toutiao-m/./src/components/follow-user.vue?3551","webpack://toutiao-m/./src/components/collect-article.vue","webpack://toutiao-m/src/components/collect-article.vue","webpack://toutiao-m/./src/components/collect-article.vue?23d3","webpack://toutiao-m/./src/components/collect-article.vue?af39","webpack://toutiao-m/./src/components/like-article.vue","webpack://toutiao-m/src/components/like-article.vue","webpack://toutiao-m/./src/components/like-article.vue?6d3b","webpack://toutiao-m/./src/components/like-article.vue?cfd7","webpack://toutiao-m/./src/views/article/components/comment-list.vue","webpack://toutiao-m/./src/views/article/components/comment-item.vue","webpack://toutiao-m/src/views/article/components/comment-item.vue","webpack://toutiao-m/./src/views/article/components/comment-item.vue?10ac","webpack://toutiao-m/./src/views/article/components/comment-item.vue?bb63","webpack://toutiao-m/src/views/article/components/comment-list.vue","webpack://toutiao-m/./src/views/article/components/comment-list.vue?08d9","webpack://toutiao-m/./src/views/article/components/comment-list.vue?b723","webpack://toutiao-m/./src/views/article/components/comment-post.vue","webpack://toutiao-m/src/views/article/components/comment-post.vue","webpack://toutiao-m/./src/views/article/components/comment-post.vue?1499","webpack://toutiao-m/./src/views/article/components/comment-post.vue?9c9e","webpack://toutiao-m/./src/views/article/components/comment-reply.vue","webpack://toutiao-m/src/views/article/components/comment-reply.vue","webpack://toutiao-m/./src/views/article/components/comment-reply.vue?c455","webpack://toutiao-m/./src/views/article/components/comment-reply.vue?b9b7","webpack://toutiao-m/src/views/article/article.vue","webpack://toutiao-m/./src/views/article/article.vue?4e28","webpack://toutiao-m/./src/views/article/article.vue?a159","webpack://toutiao-m/./src/views/qa/qa.vue","webpack://toutiao-m/src/views/qa/qa.vue","webpack://toutiao-m/./src/views/qa/qa.vue?fdcf","webpack://toutiao-m/./src/views/qa/qa.vue?fc81"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){_vm.onClickLeft=_vm.$router.back()}}}),_c('div',{staticClass:\"main-wrap\"},[(_vm.loading)?_c('div',{staticClass:\"loading-wrap\"},[_c('van-loading',[_vm._v(\" 加载中 \")])],1):_vm._e(),(_vm.article.title)?_c('div',{staticClass:\"article-detail markdown-body\"},[_c('h1',{staticClass:\"article-title\"},[_vm._v(_vm._s(_vm.article.title))]),_c('van-cell',{staticClass:\"user-info\",attrs:{\"center\":\"\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"fit\":\"cover\",\"round\":\"\",\"width\":\"30px\",\"height\":\"30px\",\"src\":_vm.article.aut_photo}})]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.article.aut_name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"publish-date\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.article.pubdate)))])]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('FollowUser',{attrs:{\"isFollowed\":_vm.article.is_followed,\"userId\":_vm.article.aut_id},on:{\"update:isFollowed\":function($event){return _vm.$set(_vm.article, \"is_followed\", $event)},\"update:is-followed\":function($event){return _vm.$set(_vm.article, \"is_followed\", $event)}}})]},proxy:true}],null,false,656727465)}),_c('div',{ref:\"article-content\",staticClass:\"article-content\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('van-divider',[_c('div',{attrs:{\"id\":\"demo\"}}),_vm._v(\" 文章结束\")]),_c('CommentList',{ref:\"comment-list\",attrs:{\"targetId\":_vm.articleId,\"totalCount\":_vm.totalCommentCount},on:{\"update:totalCount\":function($event){_vm.totalCommentCount=$event},\"update:total-count\":function($event){_vm.totalCommentCount=$event},\"reply-click\":_vm.onReplyClick}})],1):(_vm.errStatus === 404)?_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"该资源不存在或已删除\")])],1):_c('div',{staticClass:\"error-wrap\"},[_c('van-icon',{attrs:{\"name\":\"failure\"}}),_c('p',{staticClass:\"text\"},[_vm._v(\"内容加载失败！\")]),_c('van-button',{staticClass:\"retry-btn\",on:{\"click\":_vm.loadArticleInfo}},[_vm._v(\"点击重试\")])],1)]),_c('div',{staticClass:\"article-bottom\"},[_c('van-button',{staticClass:\"comment-btn\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isPostShow = true}}},[_vm._v(\"写评论\")]),_c('van-icon',{attrs:{\"name\":\"comment-o\",\"badge\":_vm.totalCommentCount}}),_c('CollectArticle',{attrs:{\"articleId\":_vm.article.art_id},model:{value:(_vm.article.is_collected),callback:function ($$v) {_vm.$set(_vm.article, \"is_collected\", $$v)},expression:\"article.is_collected\"}}),_c('LikeArticle',{attrs:{\"articleId\":_vm.article.art_id,\"attitude\":_vm.article.attitude},on:{\"update:attitude\":function($event){return _vm.$set(_vm.article, \"attitude\", $event)}}}),_c('van-icon',{attrs:{\"name\":\"share-o\"}})],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('CommentPost',{attrs:{\"targetId\":_vm.article.art_id},on:{\"post-success\":_vm.onPostSuccess}})],1),_c('van-popup',{style:({ height: '100%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.isReplyShow),callback:function ($$v) {_vm.isReplyShow=$$v},expression:\"isReplyShow\"}},[(_vm.isReplyShow)?_c('CommentReply',{attrs:{\"comment\":_vm.currentComment},on:{\"close\":function($event){_vm.isReplyShow = false}}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isFollowed)?_c('van-button',{staticClass:\"follow-btn\",attrs:{\"icon\":\"plus\",\"type\":\"info\",\"round\":\"\",\"size\":\"small\"},on:{\"click\":_vm.onFollow}},[_vm._v(\" 关注 \")]):_c('van-button',{staticClass:\"follow-btn\",attrs:{\"round\":\"\",\"size\":\"small\",\"loading\":_vm.btnLoading},on:{\"click\":_vm.onFollow}},[_vm._v(\" 已关注 \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-button\r\n    icon=\"plus\"\r\n    type=\"info\"\r\n    round\r\n    size=\"small\"\r\n    class=\"follow-btn\"\r\n    @click=\"onFollow\"\r\n    v-if=\"isFollowed\"\r\n  >\r\n    关注\r\n  </van-button>\r\n\r\n  <van-button\r\n    class=\"follow-btn\"\r\n    round\r\n    size=\"small\"\r\n    v-else\r\n    @click=\"onFollow\"\r\n    :loading=\"btnLoading\"\r\n  >\r\n    已关注\r\n  </van-button>\r\n</template>\r\n\r\n<script>\r\nimport { addFollowAPI, deleteFollowAPI } from '../api/index.js'\r\nexport default {\r\n  name: 'FollowUser',\r\n  /*\r\n    如果用v-model传递过来的参数，默认情况下props使用value来进行接受\r\n    通过model属性可以自定义value的接受方式\r\n    通过v-model绑定的变量,  有一个默认的事件(input事件), 可以通过该事件来实现双向绑定数据的更新\r\n    通过model属性来自定义input事件的名称\r\n  */\r\n  // model: {\r\n  //   prop: 'isFollowed', // 默认为value\r\n  //   event: 'update-follow' // 默认为input\r\n  // },\r\n  props: {\r\n    isFollowed: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    userId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      btnLoading: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onFollow () {\r\n      this.btnLoading = true // 请求前开启加载\r\n      try {\r\n        if (this.isFollowed) {\r\n          // 已关注 - 点击时操作取消关注\r\n          await deleteFollowAPI(this.userId)\r\n        } else {\r\n          await addFollowAPI(this.userId)\r\n        }\r\n\r\n        // 完成后讲状态取反\r\n        // this.article.is_followed = !this.article.is_followed\r\n        this.$emit('update:isFollowed', !this.isFollowed) // 接受的数据不能改变所以又传给父组件进行处理\r\n        // @input=\"article.is_followed = $event\"\r\n        /*\r\n          $emit('update:自定义属性名', 变量A) 讲变量A重新赋值给属性值\r\n          this.$emit('update:isFollowed', !this.isFollowed) 被 .sync 修饰成双向动态绑定的子传父方式\r\n        */\r\n      } catch (err) {\r\n        if (err.response && err.response.status === 400) {\r\n          this.$toast('你不能关注自己！！！')\r\n        } else {\r\n          this.$toast('操作失败, 请重试！！！')\r\n        }\r\n      }\r\n      this.btnLoading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./follow-user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./follow-user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./follow-user.vue?vue&type=template&id=f83b9d86&scoped=true&\"\nimport script from \"./follow-user.vue?vue&type=script&lang=js&\"\nexport * from \"./follow-user.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f83b9d86\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"CollectArticle\"},[_c('van-icon',{class:{ collected:_vm.value },attrs:{\"name\":_vm.value? 'star' : 'star-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCollect}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"CollectArticle\">\r\n    <van-icon\r\n      :name=\"value? 'star' : 'star-o'\"\r\n      :class=\"{ collected:value }\"\r\n      :loading=\"btnLoading\"\r\n      @click=\"onCollect\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCollectAPI, deleteCollectAPI } from '../api/index.js'\r\n\r\nexport default {\r\n  name: 'CollectArticle',\r\n  props: { // -- 使用 v-model 子父组件间传参 props接受参数 v-model 默认接受参数是用 value\r\n    value: { // 是否收藏\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    articleId: { // 文章id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      btnLoading: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onCollect () {\r\n      this.btnLoading = true // 请求前开启加载\r\n      try {\r\n        if (this.value) {\r\n          // 已关注 - 点击时操作取消关注\r\n          await deleteCollectAPI(this.articleId)\r\n        } else {\r\n          await addCollectAPI(this.articleId)\r\n        }\r\n\r\n        // 完成后讲状态取反  -- 使用v-model 子父组件间传参  this.$emit('input', !this.value) 传给父组件; input是默认事件\r\n        this.$emit('input', !this.value) // 接受的数据不能改变所以又传给父组件进行处理\r\n      } catch (err) {\r\n        if (err.response && err.response.status === 400) {\r\n          this.$toast('你不能关注自己！！！')\r\n        } else {\r\n          this.$toast('操作失败, 请重试！！！')\r\n        }\r\n      }\r\n      this.btnLoading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.collected {\r\n  color: #ffa55f;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./collect-article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./collect-article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./collect-article.vue?vue&type=template&id=a77cd4ae&scoped=true&\"\nimport script from \"./collect-article.vue?vue&type=script&lang=js&\"\nexport * from \"./collect-article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collect-article.vue?vue&type=style&index=0&id=a77cd4ae&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a77cd4ae\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-icon',{class:{ like: _vm.attitude === 1},attrs:{\"name\":_vm.attitude === 1? 'good-job' : 'good-job-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCollect}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-icon\r\n      :name=\"attitude === 1? 'good-job' : 'good-job-o'\" :loading=\"btnLoading\"\r\n      :class=\"{ like: attitude === 1}\"\r\n      @click=\"onCollect\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addLIkeAPI, deleteLikeAPI } from '../api/index.js'\r\n\r\nexport default {\r\n  name: 'LikeArticle',\r\n  props: { // -- 使用 v-model 子父组件间传参 props接受参数\r\n    attitude: { // 是否点赞; attitude: -1 => 无态度; 0 => 不喜欢; 1 => 喜欢\r\n      type: Number,\r\n      default: -1\r\n    },\r\n    articleId: { // 文章id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  inject: {\r\n    articleIdPro: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    console.log(this.articleIdPro, 'injext')\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      btnLoading: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onCollect () {\r\n      this.btnLoading = true // 请求前开启加载\r\n      let status = this.attitude // 当前点赞状态 -- 因为数值不能直接取反判断, 所以用一个临时变量来表示当前 attitude 状态\r\n      try {\r\n        if (this.attitude === 1) {\r\n          // 已点赞 - 点击时操作取消点赞\r\n          status = -1\r\n          await deleteLikeAPI(this.articleId)\r\n        } else {\r\n          // 未点赞 - 点击开启点赞\r\n          status = 1\r\n          await addLIkeAPI(this.articleId)\r\n        }\r\n\r\n        // 完成后讲状态取反  -- 使用v-model 子父组件间传参  this.$emit('update:attitude', status) 传给父组件; 更新的数据为 'update:attitude' 不能有空格\r\n        this.$emit('update:attitude', status) // 接受的数据不能改变所以又传给父组件进行处理\r\n      } catch (err) {\r\n        if (err.response && err.response.status === 400) {\r\n          this.$toast('你不能关注自己！！！')\r\n        } else {\r\n          this.$toast('操作失败, 请重试！！！')\r\n        }\r\n      }\r\n      this.btnLoading = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.like {\r\n  color: #ff2a2a;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./like-article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./like-article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./like-article.vue?vue&type=template&id=0514156b&scoped=true&\"\nimport script from \"./like-article.vue?vue&type=script&lang=js&\"\nexport * from \"./like-article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./like-article.vue?vue&type=style&index=0&id=0514156b&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0514156b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-list\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"error\":_vm.error,\"error-text\":\"请求失败，点击重新加载\"},on:{\"load\":_vm.onLoad,\"update:error\":function($event){_vm.error=$event}},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(commentItem,index){return _c('CommentItem',{key:index,attrs:{\"comment\":commentItem},on:{\"reply-click\":_vm.onReplyClick}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-item\"},[_c('van-cell',{attrs:{\"title\":_vm.comment.content},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('van-image',{staticClass:\"avatar\",attrs:{\"fit\":\"cover\",\"round\":\"\",\"width\":\"30px\",\"height\":\"30px\",\"src\":_vm.comment.aut_photo}})]},proxy:true},{key:\"title\",fn:function(){return [_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.comment.aut_name))])]},proxy:true},{key:\"label\",fn:function(){return [_c('p',{staticClass:\"comment-content\"},[_vm._v(\" \"+_vm._s(_vm.comment.content)+\" \")]),_c('div',{staticClass:\"bottom-info\"},[_c('div',{staticClass:\"publish-date\"},[_vm._v(_vm._s(_vm._f(\"relativeTime\")(_vm.comment.pubdate)))]),_c('van-button',{staticClass:\"reply-btn\",attrs:{\"round\":\"\"},on:{\"click\":function($event){return _vm.$emit('reply-click', _vm.comment)}}},[_vm._v(\" 回复\"+_vm._s(_vm.comment.reply_count)+\" \")])],1)]},proxy:true},{key:\"right-icon\",fn:function(){return [_c('van-button',{staticClass:\"like-btn\",class:{ like: _vm.comment.is_liking },attrs:{\"icon\":_vm.comment.is_liking ? 'good-job' : 'good-job-o',\"loading\":_vm.btnLoading},on:{\"click\":_vm.onCommentLike}},[_vm._v(\" \"+_vm._s(_vm.comment.like_count || '赞')+\" \")])]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-item\">\r\n    <van-cell :title=\"comment.content\">\r\n      <!-- 用户头像 -->\r\n      <template #icon>\r\n        <van-image\r\n          fit=\"cover\"\r\n          class=\"avatar\"\r\n          round\r\n          width=\"30px\"\r\n          height=\"30px\"\r\n          :src=\"comment.aut_photo\"\r\n        />\r\n      </template>\r\n\r\n      <!-- 用户名 -->\r\n      <template #title>\r\n         <div class=\"user-name\">{{ comment.aut_name }}</div>\r\n      </template>\r\n\r\n      <!-- 相对时间 -->\r\n      <template #label>\r\n        <p class=\"comment-content\"> {{ comment.content }} </p>\r\n        <div class=\"bottom-info\">\r\n          <div class=\"publish-date\">{{ comment.pubdate | relativeTime }}</div>\r\n          <van-button\r\n            class=\"reply-btn\"\r\n            round\r\n            @click=\"$emit('reply-click', comment)\"\r\n          >\r\n            回复{{ comment.reply_count }}\r\n          </van-button>\r\n        </div>\r\n      </template>\r\n\r\n      <!-- 点赞 -->\r\n      <template #right-icon>\r\n        <!-- 把关注/取消按钮封装成组件 -->\r\n        <van-button\r\n          :class=\"{ like: comment.is_liking }\"\r\n          :icon=\"comment.is_liking ? 'good-job' : 'good-job-o' \"\r\n          class=\"like-btn\"\r\n          :loading=\"btnLoading\"\r\n          @click=\"onCommentLike\"\r\n        >\r\n          {{ comment.like_count || '赞'}}\r\n        </van-button>\r\n      </template>\r\n    </van-cell>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { addCommentLIkeAPI, deleteCommentLikeAPI } from '../../../api/index.js'\r\n\r\nexport default {\r\n  name: 'commentItem',\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      btnLoading: false,\r\n      commentClone: this.comment // 克隆一个父组件传递过来的数据; .sync 不能实时修改复杂数据\r\n    }\r\n  },\r\n  methods: {\r\n    async onCommentLike () {\r\n      // 触发加载状态\r\n      this.btnLoading = true\r\n      try {\r\n        if (this.comment.is_liking) {\r\n          // 已点赞时再点击时取消点赞\r\n          await deleteCommentLikeAPI(this.comment.com_id)\r\n\r\n          // 点赞数减一\r\n          this.commentClone.like_count--\r\n        } else {\r\n          // 未点赞时再点击添加点赞\r\n          await addCommentLIkeAPI(this.comment.com_id)\r\n\r\n          // 点赞数加一\r\n          this.commentClone.like_count++\r\n        }\r\n\r\n        // 控制点赞按钮的显示样式\r\n        this.commentClone.is_liking = !this.comment.is_liking\r\n      } catch (err) {\r\n        this.$toast('操作失败, 请重试')\r\n      }\r\n\r\n      this.btnLoading = false // 主动关闭 loading\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-item {\r\n  .avatar {\r\n    width: 70px;\r\n    height: 70px;\r\n    margin-right: 26px;\r\n  }\r\n\r\n  .user-name {\r\n    color: #406599;\r\n    font-size: 26px;\r\n\r\n  }\r\n\r\n  .comment-content {\r\n    font-size: 32px;\r\n    color: #222;\r\n    word-break: break-all;\r\n    text-align: justify;\r\n  }\r\n\r\n  .bottom-info {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .publish-date {\r\n      font-size: 20px;\r\n      color: #222;\r\n      margin-right: 26px;\r\n    }\r\n\r\n    .reply-btn {\r\n      width: 140px;\r\n      height: 48px;\r\n      font-size: 24px;\r\n      color: #222;\r\n    }\r\n  }\r\n\r\n  .like-btn {\r\n    border: none;\r\n    height: 30px;\r\n    padding: 0;\r\n    font-size: 20px;\r\n    color: #222;\r\n  }\r\n\r\n  .like {\r\n    color: rgb(255, 53, 53);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-item.vue?vue&type=template&id=d57bdc3e&scoped=true&\"\nimport script from \"./comment-item.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-item.vue?vue&type=style&index=0&id=d57bdc3e&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d57bdc3e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"comment-list\">\r\n    <!-- <span>文章评论区</span> -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n      :error.sync=\"error\"\r\n      error-text=\"请求失败，点击重新加载\"\r\n    >\r\n\r\n      <!-- <van-cell v-for=\"(item, index) in list\" :key=\"index\" :title=\"item.content\" /> -->\r\n      <CommentItem\r\n        v-for=\"(commentItem, index) in list\"\r\n        :key=\"index\"\r\n        :comment=\"commentItem\"\r\n        @reply-click=\"onReplyClick\"\r\n      ></CommentItem>\r\n      <!--\r\n        @reply-click=\"$('reply-click', $event)\"\r\n          $event ==> 默认事件 ==> comment\r\n       -->\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getCommentsAPI } from '../../../api/index.js'\r\nimport CommentItem from './comment-item.vue'\r\nexport default {\r\n  name: 'CommentList',\r\n  components: {\r\n    CommentItem\r\n  },\r\n  props: {\r\n    targetId: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n\r\n    // 接受父组件通过 .sync 传递过来的值\r\n    totalCount: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: 'a'\r\n    }\r\n  },\r\n  /*\r\n    查找组件中使用数据的不同点 (又时是 a 有时是 c)\r\n    顺着组件与组件, 方法与方法的联系一步一步找到根源；在此过程中考虑每一个细节是否受到影响\r\n  */\r\n\r\n  /*\r\n    公共方法调用\r\n    如果有一个方法 在接手之前, 别人设置在方法中写了2个变量 a, b 我们完成新的业务场景时, 引申出新的变量 c 在不影响原来别人的业务代码的同时如何让这个公共方法修改后风险最小\r\n    --- 在设置 c 的时候讲原本公共方法中的c的值, 变为改形参的默认值\r\n  */\r\n\r\n  data () {\r\n    return {\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      offset: null,\r\n      // totalCount: 0,\r\n      error: false\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onLoad () {\r\n      // 异步更新数据\r\n      /*\r\n        01 请求数据\r\n        02 将数据添加到列表中\r\n        03 将加载状态 loading 改为 false\r\n        04 判断 是否有后续数据，对finished做操作\r\n      */\r\n      try {\r\n        // 01\r\n        const { data: res } = await getCommentsAPI({\r\n          type: this.type, // 获取评论的类型 a - 对文章评论； c - 对评论轮回复\r\n          source: this.targetId, // 文章id\r\n          offset: this.offset, // 偏移量(从第几页开始显示评论)\r\n          limit: 10 // 每页的评论数\r\n        })\r\n        console.log(res, 'res')\r\n\r\n        // 02\r\n        this.list.push(...res.data.results)\r\n\r\n        // 更新中数据条数\r\n        // this.totalCount = res.data.total_count\r\n        // 动态修改父组件中 totalCount 对应的数据(totalCommentCount)\r\n        this.$emit('update:totalCount', res.data.total_count)\r\n\r\n        // 03\r\n        this.loading = false\r\n\r\n        // 04\r\n        if (res.data.results.length) {\r\n          this.offset = res.data.last_id // 查询开发文档可以知道 last_id 的用处\r\n        } else {\r\n          // results 中没有数据了\r\n          this.finished = true // 关闭加载\r\n        }\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.loading = false\r\n        this.error = true\r\n      }\r\n    },\r\n\r\n    // 讲新评论添加到评论列表的最顶端\r\n    unshiftComment (item) {\r\n      this.list.unshift(item.new_obj)\r\n    },\r\n\r\n    // 点击回复弹出评论层  -- 传递给 article\r\n    onReplyClick (comment) {\r\n      this.$emit('reply-click', comment)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-list.vue?vue&type=template&id=6d06509d&scoped=true&\"\nimport script from \"./comment-list.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d06509d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-post\"},[_c('van-field',{staticClass:\"post-field\",attrs:{\"rows\":\"2\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"50\",\"placeholder\":\"优质评论优先显示\",\"show-word-limit\":\"\"},model:{value:(_vm.message),callback:function ($$v) {_vm.message=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"message\"}}),_c('van-button',{staticClass:\"post-btn\",attrs:{\"size\":\"small\",\"disable\":!_vm.message.length},on:{\"click\":_vm.onAddComent}},[_vm._v(\" 发布 \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-post\">\r\n    <van-field\r\n    class=\"post-field\"\r\n      v-model.trim=\"message\"\r\n      rows=\"2\"\r\n      autosize\r\n      type=\"textarea\"\r\n      maxlength=\"50\"\r\n      placeholder=\"优质评论优先显示\"\r\n      show-word-limit\r\n    />\r\n\r\n    <van-button\r\n      class=\"post-btn\"\r\n      size=\"small\"\r\n      @click=\"onAddComent\"\r\n      :disable=\"!message.length\"\r\n    >\r\n      发布\r\n    </van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { addCommentAPI } from '../../../api/index.js'\r\nexport default {\r\n  name: 'CommentPost',\r\n  props: {\r\n    targetId: { // 文章id 或 评论id\r\n      type: String,\r\n      default: ''\r\n    },\r\n    articleId: { // 如果回复的是评论, 则需要传文章id\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      message: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async onAddComent () {\r\n      try {\r\n        // 评论文字非空\r\n        const messageTemp = this.message.trim()\r\n        if (!messageTemp.length) return\r\n\r\n        const { data: res } = await addCommentAPI({\r\n          target: this.targetId, // 文章id 或 评论id\r\n          content: this.message, // 文章内容\r\n          art_id: this.articleId || null // 若target 是评论id时, 该属性为 文章id\r\n        })\r\n        //\r\n        console.log(res)\r\n\r\n        // 发布成功后 清空输入框\r\n        this.message = ''\r\n\r\n        // 向父组件发送数据关闭弹出层 -- 基础版本子父组件传参\r\n        this.$emit('post-success', res.data)\r\n\r\n        this.$toast.success('发布成功')\r\n      } catch (err) {\r\n        this.$toast.fail('发布失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.comment-post {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 32px 0 32px 32px;\r\n\r\n  .post-field {\r\n    background-color: #f5f6f7;\r\n  }\r\n\r\n  .post-btn {\r\n    width: 150px;\r\n    border: none;\r\n    padding: 0;\r\n    color: #6ba3d8;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-post.vue?vue&type=template&id=2644eaca&scoped=true&\"\nimport script from \"./comment-post.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-post.vue?vue&type=style&index=0&id=2644eaca&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2644eaca\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-reply\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.comment.reply_count > 0 ? `${ _vm.comment.reply_count }条回复` : '暂无回复',\"fixed\":\"\",\"left-arrow\":\"\"},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){return _vm.$emit('close')}}})]},proxy:true}])}),_c('div',{staticClass:\"scroll-wrap\"},[_c('CommentItem',{attrs:{\"comment\":_vm.comment}}),_c('van-cell',[_vm._v(\"全部回复\")]),_c('CommentList',{ref:\"comment-list\",attrs:{\"targetId\":_vm.comment.com_id,\"type\":\"c\"}})],1),_c('div',{staticClass:\"reply-bottom\"},[_c('van-button',{staticClass:\"reply-btn\",attrs:{\"round\":\"\",\"size\":\"small\"},on:{\"click\":function($event){_vm.isPostShow = true}}},[_vm._v(\" 写评论 \")])],1),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.isPostShow),callback:function ($$v) {_vm.isPostShow=$$v},expression:\"isPostShow\"}},[_c('CommentPost',{attrs:{\"targetId\":_vm.comment.com_id,\"articleId\":_vm.$route.params.articleId},on:{\"post-success\":_vm.onPostSuccess}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-reply\">\r\n    <!-- 头部导航 -->\r\n    <van-nav-bar\r\n      :title=\"comment.reply_count > 0 ? `${ comment.reply_count }条回复` : '暂无回复'\"\r\n      fixed\r\n      left-arrow\r\n    >\r\n      <template #left>\r\n        <van-icon name=\"cross\" @click=\"$emit('close')\"/>\r\n      </template>\r\n    </van-nav-bar>\r\n\r\n    <!-- 内容区域 -->\r\n    <div class=\"scroll-wrap\">\r\n      <!-- 文章评论详情 -->\r\n      <CommentItem :comment=\"comment\"></CommentItem>\r\n\r\n      <!-- 评论回复区域 -->\r\n      <van-cell>全部回复</van-cell>\r\n\r\n      <!-- 评论评论区 -->\r\n        <!-- 为什么用 articleId 而不是 article.art_id -->\r\n        <CommentList\r\n          :targetId=\"comment.com_id\"\r\n          ref=\"comment-list\"\r\n          type=\"c\"\r\n        ></CommentList>\r\n        <!-- type=\"c\" 查询接口文档或接口注释可以知道 type=\"c\" 时才表示为评论的回复 a 为文章回复 -->\r\n    </div>\r\n\r\n    <!-- 写评论 -->\r\n    <div class=\"reply-bottom\">\r\n      <van-button\r\n        class=\"reply-btn\"\r\n        round\r\n        size=\"small\"\r\n        @click=\"isPostShow = true\"\r\n      >\r\n        写评论\r\n      </van-button>\r\n    </div>\r\n\r\n    <!-- 回复评论弹框 -->\r\n    <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n      <CommentPost\r\n        :targetId=\"comment.com_id\"\r\n        @post-success=\"onPostSuccess\"\r\n        :articleId=\"$route.params.articleId\"\r\n      ></CommentPost>\r\n      <!-- :articleId=\"$route.params.articleId\" 要获取文章id可以不用组件传参一层一层传下来; 直接使用路由地址。因为路由的地址是很久文章id路由的 通过 $route.params.articleId 获取文章id -->\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentItem from './comment-item.vue'\r\nimport CommentList from './comment-list.vue'\r\nimport CommentPost from './comment-post.vue'\r\nexport default {\r\n  name: 'CommentReply',\r\n  components: {\r\n    CommentItem,\r\n    CommentList,\r\n    CommentPost\r\n  },\r\n\r\n  props: {\r\n    comment: {\r\n      type: Object,\r\n      default: () => ({})\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      commentClone: this.comment,\r\n      isPostShow: false // 写评论弹出层状态\r\n    }\r\n  },\r\n  methods: {\r\n    onPostSuccess (item) {\r\n      // 更新回复条数\r\n      this.commentClone.replay_count++\r\n\r\n      // 关闭写评论弹出层\r\n      this.isPostShow = false\r\n\r\n      // 通过ref去调用 comment-list 的方法, 将新的评论添加到列表顶端\r\n      this.$refs['comment-list'].unshiftComment(item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .comment-reply {\r\n    .van-nav-bar {\r\n      background-color: #fff;\r\n      :deep(.van-nav-bar__title) {\r\n        color: black;\r\n      }\r\n\r\n      .van-icon {\r\n        color: #3296fa;\r\n      }\r\n    }\r\n\r\n    .scroll-wrap {\r\n      padding-top: 92px;\r\n      padding-bottom: 88px;\r\n      overflow-y: auto;\r\n      background-color: #fff;\r\n    }\r\n\r\n    .reply-bottom {\r\n      position: fixed;\r\n      bottom: 0;\r\n      left: 0;\r\n      right: 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      height: 88px;\r\n      border-top: 1px solid #d8d8d8;\r\n      background-color: #fff;\r\n    }\r\n\r\n    .reply-btn {\r\n      width: 280px;\r\n      height: 46px;\r\n      line-height: 46px;\r\n      border: 2px solid #eee;\r\n      color: #a7a7a7;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-reply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./comment-reply.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment-reply.vue?vue&type=template&id=34653f55&scoped=true&\"\nimport script from \"./comment-reply.vue?vue&type=script&lang=js&\"\nexport * from \"./comment-reply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment-reply.vue?vue&type=style&index=0&id=34653f55&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34653f55\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<!-- 文章详情 - 这个组件以后是只能做路由跳转吗？他可不可能作为某个父组件的子组件嵌套展示在页面上？ -->\r\n<!-- 能否通过$route的形式作为子组件时获取 - 答：不能 -->\r\n<!-- 有没有可能 路由传参和 组件传参都用一种获取参数的方式来执行呢? 答: 开启props传参 -->\r\n  <div class=\"article-container\">\r\n    <van-nav-bar\r\n      title=\"黑马头条\"\r\n      left-arrow\r\n      @click-left=\"onClickLeft=$router.back()\"\r\n      fixed\r\n    />\r\n\r\n    <!-- 正文滚动区域 -->\r\n    <div class=\"main-wrap\">\r\n      <div class=\"loading-wrap\" v-if=\"loading\">\r\n        <van-loading>\r\n          加载中\r\n        </van-loading>\r\n      </div>\r\n\r\n      <!-- 文章详情部分 200 -->\r\n      <div class=\"article-detail markdown-body\" v-if=\"article.title\">\r\n        <!-- 文章标题 -->\r\n        <h1 class=\"article-title\">{{ article.title }}</h1>\r\n\r\n        <!-- 用户信息 -->\r\n        <van-cell center class=\"user-info\">\r\n          <!-- 用户头像 -->\r\n          <template #icon>\r\n            <van-image\r\n              fit=\"cover\"\r\n              class=\"avatar\"\r\n              round\r\n              width=\"30px\"\r\n              height=\"30px\"\r\n              :src=\"article.aut_photo\"\r\n            />\r\n          </template>\r\n\r\n          <!-- 用户名 -->\r\n          <template #title>\r\n            <div class=\"user-name\">{{ article.aut_name }}</div>\r\n          </template>\r\n\r\n          <!-- 相对时间 -->\r\n          <template #label>\r\n            <div class=\"publish-date\">{{ article.pubdate | relativeTime }}</div>\r\n          </template>\r\n\r\n          <!-- 关注/已关注 -->\r\n          <template #right-icon>\r\n            <!-- 把关注/取消按钮封装成组件 -->\r\n            <FollowUser\r\n              :isFollowed.sync=\"article.is_followed\"\r\n              :userId=\"article.aut_id\"\r\n            ></FollowUser>\r\n            <!--\r\n              :isFollowed=\"article.is_followed\"\r\n              v-model=\"article.is_followed\" 通过v-model 双向绑定子父传参(但是只能有一个v-model)\r\n\r\n              :isFollowed.sync=\"article.is_followed\"  // .sync 修饰符可以把传递对的属性变为动态双向绑定\r\n             -->\r\n          </template>\r\n        </van-cell>\r\n\r\n        <!-- 文章内容 -->\r\n        <div ref=\"article-content\" class=\"article-content\" v-html=\"article.content\"></div>\r\n        <van-divider> <div id=\"demo\"></div> 文章结束</van-divider>\r\n\r\n        <!-- 文章评论区 -->\r\n        <!-- 为什么用 articleId 而不是 article.art_id -->\r\n        <CommentList\r\n          :targetId=\"articleId\"\r\n          :totalCount.sync=\"totalCommentCount\"\r\n          ref=\"comment-list\"\r\n          @reply-click=\"onReplyClick\"\r\n        ></CommentList>\r\n      </div>\r\n      <!-- 文章详情部分 ----END---- -->\r\n\r\n      <!-- 加载失败 - 资源不存在 404 -->\r\n      <div class=\"error-wrap\" v-else-if=\"errStatus === 404\">\r\n        <van-icon name=\"failure\" />\r\n        <p class=\"text\">该资源不存在或已删除</p>\r\n      </div>\r\n\r\n      <!-- 加载失败 -其他内容 507 -->\r\n      <div class=\"error-wrap\" v-else>\r\n        <van-icon name=\"failure\" />\r\n        <p class=\"text\">内容加载失败！</p>\r\n        <van-button class=\"retry-btn\" @click=\"loadArticleInfo\">点击重试</van-button>\r\n      </div>\r\n\r\n    </div>\r\n    <!-- 正文滚动区域 ---- END ---- -->\r\n\r\n    <!-- 底部区域 -->\r\n    <div class=\"article-bottom\">\r\n      <van-button class=\"comment-btn\" round size=\"small\" @click=\"isPostShow = true\">写评论</van-button>\r\n      <!-- 评论标记 -->\r\n      <van-icon name=\"comment-o\" :badge=\"totalCommentCount\"></van-icon>\r\n\r\n      <!-- 收藏 -->\r\n      <CollectArticle\r\n        :articleId=\"article.art_id\"\r\n        v-model=\"article.is_collected\"\r\n      ></CollectArticle>\r\n\r\n      <!-- 点赞 -->\r\n      <LikeArticle\r\n        :articleId=\"article.art_id\"\r\n        :attitude.sync=\"article.attitude\"\r\n      ></LikeArticle>\r\n\r\n      <!-- 转发 -->\r\n      <van-icon name=\"share-o\" />\r\n    </div>\r\n\r\n    <!-- 评论弹框 -->\r\n    <van-popup v-model=\"isPostShow\" position=\"bottom\">\r\n      <CommentPost :targetId=\"article.art_id\" @post-success=\"onPostSuccess\"></CommentPost>\r\n    </van-popup>\r\n\r\n    <!-- 评论详情  - 回复评论-->\r\n    <van-popup\r\n      v-model=\"isReplyShow\"\r\n      position=\"bottom\"\r\n      :style=\"{ height: '100%' }\"\r\n    >\r\n    <!--\r\n      发现 一个问题: 切换不同的评论弹出层时, 发现文章评论详情发生了变化, 但是评论回复列表区却是上一次打开的回复列表区\r\n      这是 van-popup 弹出层组件， v-model的特点\r\n      初始状态下, v-model状态为false, 弹出层不渲染\r\n      当 v-model 变成true时. 弹出层渲染\r\n      但 当关闭弹出层时, 只是css进行了控制隐藏(display:none)\r\n\r\n      解决方案, 需要给评论回复弹出层添加一个v-if, 来保证弹出层关闭时能清除内部所有dom元素, 保证下次打开后回复表能正常请求列表接口 (重新渲染一次dom结构)\r\n     -->\r\n      <CommentReply v-if=\"isReplyShow\" :comment=\"currentComment\" @close=\"isReplyShow = false\"></CommentReply>\r\n    </van-popup>\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { getArticleByIdAPI } from '../../api/index.js'\r\nimport { ImagePreview } from 'vant'\r\nimport FollowUser from '../../components/follow-user.vue'\r\nimport CollectArticle from '../../components/collect-article.vue'\r\nimport LikeArticle from '../../components/like-article.vue'\r\nimport CommentList from './components/comment-list.vue'\r\nimport CommentPost from './components/comment-post.vue'\r\nimport CommentReply from './components/comment-reply.vue'\r\n\r\nexport default {\r\n  name: 'ArticleAPP',\r\n\r\n  components: {\r\n    FollowUser,\r\n    CollectArticle,\r\n    LikeArticle,\r\n    CommentList,\r\n    CommentPost,\r\n    CommentReply\r\n  },\r\n\r\n  // article-item 点击路由跳转时 直接把 article_id 传递过来(非子父组件传值)\r\n  props: {\r\n    articleId: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  /*\r\n  在vue项目中, 往往会涉及到多层组件的嵌套传参, 或者是一个参数需要传递给多个组件，vue提供了一种父组件传递数据给它所便函的所有子(后代)组件的方式\r\n    -- provice 是一个函数(方法) 父组件通过该函数讲数据传递传去\r\n    -- inject 在子组件中, 作为一个属性(与 props写法完全一致), 可以接受provice传递过来的数据\r\n\r\n    注意！！！：如果 provide 传递的是一个引用数据，每个组件都可以修改它堆内存中的数据, 但 如果对改数据进行了修改, 后期很难查找到修改源！所以使用这个provide和inject进行数据传递时，一定遵循只读原则；如果自己不能保证使用数据不会被修改, 请使用最基本的额组件传参 形式！！！\r\n\r\n  */\r\n\r\n  //  这儿是举例 -- inject举例在 like-article 中\r\n  provide: function () {\r\n    return {\r\n      articleIdPro: this.articleId\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      article: {},\r\n      loading: true, // 渲染时自动打开加载页面, 渲染完(无论是会否加载成功) 就关闭加载页面\r\n      errStatus: 0, // 设置状态码 判断接在失败的页面显示\r\n      totalCommentCount: 0, // 评论总数\r\n      isPostShow: false, // 发布评论显示状态\r\n      isReplyShow: false,\r\n      currentComment: {}\r\n    }\r\n  },\r\n\r\n  created () {\r\n    // 获取文章详情\r\n    this.loadArticleInfo()\r\n  },\r\n\r\n  methods: {\r\n    async loadArticleInfo () {\r\n      this.loading = true // 请求前开启加载\r\n      try {\r\n        const { data: res } = await getArticleByIdAPI(this.articleId)\r\n        console.log(res)\r\n        this.article = res.data\r\n\r\n        // 请求文章成功后触发 制作图片列表事件 -- 因为请求接口拿数据是异步操作,直接调用previewimage 是同步任务,执行时还没拿到数据所以会报错进入catch。 因此这儿也要处理成异步\r\n        setTimeout(() => {\r\n          this.previewimage()\r\n        }, 0)\r\n        // this.previewimage()\r\n      } catch (err) {\r\n        if (err.response && err.response.status === 404) {\r\n          this.errStatus = 404\r\n        }\r\n        this.$toast('获取文章失败')\r\n      }\r\n\r\n      // 无论是否加载成功 都要关闭加载页面\r\n      this.loading = false\r\n    },\r\n\r\n    /*\r\n    ImagePreview({\r\n      images: [\r\n        'https://img01.yzcdn.cn/vant/apple-1.jpg',\r\n        'https://img01.yzcdn.cn/vant/apple-2.jpg',\r\n      ],\r\n      startPosition: 1,  // 开始大图预览时的位置 索引位置\r\n      closeable: true\r\n    });\r\n    */\r\n    previewimage () {\r\n      // 得到正文中所有图片元素\r\n      const articleContent = this.$refs['article-content']\r\n      const images = articleContent.querySelectorAll('img')\r\n      // console.log(images)\r\n\r\n      // 创建一个处理后只有图片路径的真数组 -- 交给 ImagePreview 使用\r\n      const imagesList = [...images].map(map => map.src)\r\n      // console.log(imagesList)\r\n\r\n      // 给每张图片添加点击打开图片预览功能事件\r\n      images.forEach((img, index) => {\r\n        img.onclick = () => {\r\n          ImagePreview({\r\n            images: imagesList,\r\n            startPosition: index // 开始大图预览时的位置 索引位置\r\n            // closeable: true  // 显示右上角开关\r\n          })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 弹出层关闭操作\r\n    // onPostSuccess 接受子组件 comment-post 传递过来的数据\r\n    onPostSuccess (item) {\r\n      this.isPostShow = false\r\n\r\n      // 在子组件的标签里设置 ref 属性, 通过 $refs 方法 可以拿到子组件所有属性与方法\r\n      // 通过$refs 调用 comment-list 中的方法把新的评论添加到列表的最前端\r\n      this.$refs['comment-list'].unshiftComment(item)\r\n      console.log(item)\r\n    },\r\n\r\n    // 开启评论回复 弹出层\r\n    onReplyClick (comment) {\r\n      // 赋值当前文章评论对象\r\n      this.currentComment = comment || {}\r\n      console.log(comment)\r\n\r\n      // 显示弹出层\r\n      this.isReplyShow = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import './css/github-markdown.css';\r\n.article-container {\r\n  .main-wrap {\r\n    padding-top: 92px;\r\n    padding-bottom: 88px;\r\n    overflow-y: auto;\r\n    background-color: #fff;\r\n  }\r\n\r\n  // 加载中样式表\r\n    .loading-wrap {\r\n      padding: 200px 32px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n\r\n    // 正文部分\r\n    .article-detail {\r\n      .article-title {\r\n        font-size: 40px;\r\n        padding: 50px 32px;\r\n        margin: 0;\r\n        color: #3a3a3a;\r\n      }\r\n\r\n      .user-info {\r\n        padding: 0 32px;\r\n\r\n        .avatar {\r\n          width: 70px;\r\n          height: 70px;\r\n          margin-right: 12px;\r\n        }\r\n\r\n        .user-name {\r\n          font-size: 24px;\r\n          color: #3a3a3a;\r\n        }\r\n\r\n        .van-cell__label {\r\n          margin: 0;\r\n        }\r\n\r\n        .publish-date {\r\n          font-size: 24px;\r\n          color: #b7b7b7;\r\n        }\r\n\r\n        .follow-btn {\r\n          width: 180px;\r\n          height: 58px;\r\n        }\r\n      }\r\n\r\n      .article-content {\r\n        padding: 50px 32px;\r\n      }\r\n    }\r\n\r\n    .error-wrap {\r\n      padding: 200px 32px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      flex-direction: column;\r\n\r\n      .van-icon {\r\n        font-size: 130px;\r\n        color: #b4b4b4;\r\n      }\r\n\r\n      .text {\r\n        font-size: 34px;\r\n        color: #666;\r\n        margin: 32px 0 64px;\r\n      }\r\n\r\n      .retry-btn {\r\n        width: 280px;\r\n        height: 70px;\r\n        line-height: 70px;\r\n        border: 1px solid #c3c3c3;\r\n        font-size: 34px;\r\n        color: #666;\r\n      }\r\n    }\r\n\r\n    // 底部区域\r\n    .article-bottom {\r\n      position: fixed;\r\n      bottom: 0;\r\n      left: 0;\r\n      right: 0;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      align-items: center;\r\n      height: 88px;\r\n      border-top: 1px solid #d8d8d8;\r\n      background-color: #fff;\r\n\r\n      .comment-btn {\r\n        width: 280px;\r\n        height: 46px;\r\n        line-height: 46px;\r\n        border: 2px solid #eee;\r\n        color: #a7a7a7;\r\n      }\r\n\r\n      .van-icon {\r\n        font-size: 40px;\r\n\r\n        .van-info {\r\n          font-size: 16px;\r\n          background-color: #e22829;\r\n        }\r\n      }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./article.vue?vue&type=template&id=2819fd60&scoped=true&\"\nimport script from \"./article.vue?vue&type=script&lang=js&\"\nexport * from \"./article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./article.vue?vue&type=style&index=0&id=2819fd60&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2819fd60\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('Article')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Article></Article>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Article from '../article/article.vue'\r\n\r\nexport default {\r\n  name: 'qaApp',\r\n  components: {\r\n    Article\r\n  },\r\n  data () {\r\n    return {\r\n\r\n    }\r\n  },\r\n  methods: {\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./qa.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./qa.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./qa.vue?vue&type=template&id=1a5c9b1b&scoped=true&\"\nimport script from \"./qa.vue?vue&type=script&lang=js&\"\nexport * from \"./qa.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a5c9b1b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","$event","onClickLeft","$router","back","loading","_v","_e","article","title","_s","scopedSlots","_u","key","fn","aut_photo","proxy","aut_name","_f","pubdate","is_followed","aut_id","$set","ref","domProps","content","articleId","totalCommentCount","onReplyClick","errStatus","loadArticleInfo","isPostShow","art_id","model","value","is_collected","callback","$$v","expression","attitude","onPostSuccess","style","height","isReplyShow","currentComment","staticRenderFns","isFollowed","onFollow","btnLoading","name","props","type","default","userId","data","methods","component","class","collected","onCollect","like","inject","articleIdPro","mounted","console","status","finished","error","onLoad","_l","list","commentItem","index","comment","$emit","reply_count","is_liking","onCommentLike","like_count","commentClone","components","CommentItem","targetId","totalCount","offset","source","limit","unshiftComment","message","trim","length","onAddComent","target","com_id","$route","params","CommentList","CommentPost","FollowUser","CollectArticle","LikeArticle","CommentReply","provide","created","setTimeout","previewimage","images","img","ImagePreview","startPosition","Article"],"sourceRoot":""}